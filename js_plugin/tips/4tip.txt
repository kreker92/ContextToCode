<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Подсказка jQuery</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-javascript.min.js" integrity="sha256-G5C8j/0gBEHgf/x60UZQY5QrKPWdUo2Pgcu4OgU5q7w=" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/themes/prism-okaidia.css" />
		<style>
		  p, button, div {
			color: #DDD;
		  }
		  hr {
			border-top: 1px solid rgba(255,255,255,.1);
		  }
		  input[type="radio"] {
			display:none;
		  }
		  .btn-toolbar label {
			cursor: pointer;
		  }
		  @media (min-width: 767px) {
			.language-js {
			}
		  }
		</style>
	</head>
	<body class="bg-dark">
		<div class="container-fluid">
			<hr />
			<div class="code-wrapper">
			<h2>Функция объекта jQuery .html()</h2>
			<p>Позволяет получить доступ к HTML контенту элемента</p>
			<p>Вы можете изменить контект элемента <b>$menucontainer</b> используя код: </p>
			<br />
			</div>
			<hr />
			<h3>Код для вставки</h3>
		    <pre><code class="language-js" id="code-result">$menucontainer.html("");</code></pre>
			<!--<div class="mark bg-dark">
				<div class="btn-toolbar">
					<div class="btn-group btn-group-sm btn-block form-group" data-toggle="buttons">
						<label class="btn btn-outline-light">
							<input type="radio" name="options" value="useful"> Useful
						</label>
						<label class="btn btn-outline-light">
							<input type="radio" name="options" value="useful"> Rel+
						</label>
						<label class="btn btn-outline-light">
							<input type="radio" name="options" value="useful"> Rel-
						</label>
						<label class="btn btn-outline-light">
							<input type="radio" name="options" value="useful"> Not rel
						</label>
						<label class="btn btn-outline-light">
							<input type="radio" name="options" value="useful"> Stupid
						</label>
						<label class="btn btn-outline-light">
							<input type="radio" name="options" value="useful"> No mark
						</label>
					</div>
				</div>
				<div class="form-group">
					<textarea class="form-control" rows="3" placeholder="Комментарий"></textarea>
				</div>
				<div class="form-group">
					<button type="button" class="btn btn-outline-info btn-block">Отправить</button>
				</div>
			</div>
			<hr />-->
			<button class="btn btn-outline-light btn-block" onclick="useAdvise()">Вставить код</button>
			<!--<button class="btn btn-dark btn-block" onclick="hideAdvise()">Скрыть</button>-->
		</div>
    <script>
      const vscode = acquireVsCodeApi();
      function useAdvise(){
        let text_ = document.getElementById("code-result").textContent;
        vscode.postMessage({command: 'use',text: text_})
      }
      function hideAdvise(){
        vscode.postMessage({command: 'hide'})
      }

      var resCode = `$menucontainer.html("");`;
      var fields = $('#form-edit').find('input, select, textarea, radio');
      fields.on('keyup change', function(ev){
        rewriteTipRes(generateTip());
      });
      function generateTip() {
        var code = resCode;
        $.each(fields, function(i, f){
          $f = $(f);
          var partNum = +$f.attr('data-part');
          code = code.replace('PART'+partNum, $.trim($f.val()));
        });

        return code;
      }
      function rewriteTipRes(tip) {
        var $el = $("#code-result");
        $el.html(generateTip());
        Prism.highlightElement($el[0]);
      }
      rewriteTipRes(generateTip());
      
    </script>
	</body>
</html>